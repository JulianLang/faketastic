# Requirements

## recursion

```ts
const directory = model({
  directories: itself(depth(3), quantity(2)),
});

function depth(n: number): boolean {
  let count = 0;

  return count++ < n;
}
```

## unique results from property functions

```ts
const mdl = model({
  id: ref('name', map(toId)),
  name: oneOf(Names, unique()),
});

/*
  disallows situations like:

    0: { name: 'a', id: 'a-id' }
    1: { name: 'b', id: 'b-id' }
    2: { name: 'a', id: 'a-id' } // already taken -> not unique :(
*/
```

## generate multiple random results

In following variations:

- static number of items
- random number of items
- computed number of items

```ts
const mdl = model({
  name: oneOf(Names, quantity(2)),
  age: range(
    1,
    2,
    quantity(() => randomInt(2, 3)),
  ),
});
```

## have full control over every level

```ts
const mdl = model({
  // canBe can be applied to oneof (parent) and each node generated by quantity (children)
  prop: oneOf(Values, quantity(2, canBe(null)), canBe([])),
});
```
